webpackJsonp([0,2],[,,,,function(e,t){"use strict";e.exports={center:[55.16,61.4],zoom:11}},,,function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a;e.exports=(a={europe:[57.5,22],deutschland:[51.165,10.4553],germany:[51.165,10.4553],"baden-wuerttemberg":[48.53,9.05],bayern:[48.949,11.395],brandenburg:[52.3622,13.0078],hessen:[50.5995,9.0249],"mecklenburg-vorpommern":[53.6121,12.7002],niedersachsen:[52.7562,9.3933],"nordrhein-westfalen":[51.4783,7.555],"rheinland-pfalz":[49.9131,7.4497],saarland:[49.3833,6.8333],sachsen:[51.0493,13.7381],"sachsen-anhalt":[51.9713,11.4697],"schleswig-holstein":[54.47,9.5142],thueringen:[50.8614,11.0522],ruhrgebiet:[51.5175,7.145],aachen:[50.777,6.0836],aalen:[48.8372,10.0936],ahlen:[51.7633,7.8911],arnsberg:[51.3967,8.0647],aschaffenburg:[49.9767,9.1477],augsburg:[48.3585,10.8944],"bad-homburg":[50.2292,8.6105],"bad-kreuznach":[49.8469,7.8669],"bad-oeynhausen":[52.2,8.8],"bad-salzuflen":[52.0875,8.7506],"baden-baden":[48.76194,8.2408],bamberg:[49.8917,10.8917],bayreuth:[49.9481,11.5783],bergheim:[50.9667,6.65],"bergisch-gladbach":[50.9917,7.136],berlin:[52.5167,13.3833],bielefeld:[52.0167,8.5167],bocholt:[51.8367,6.6108],bochum:[51.4825,7.2169],boeblingen:[48.6851,9.009]},n(a,"boeblingen",[48.6856,9.0153]),n(a,"bonn",[50.734,7.0998]),n(a,"bottrop",[51.5247,6.9228]),n(a,"brandenburg-an-der-havel",[52.4089,12.5631]),n(a,"braunschweig",[52.2692,10.5211]),n(a,"bremen",[53.0769,8.8089]),n(a,"bremerhaven",[53.5419,8.578]),n(a,"castrop-rauxel",[51.55,7.3167]),n(a,"celle",[52.6261,10.0806]),n(a,"chemnitz",[50.8322,12.9242]),n(a,"cottbus",[51.76056,14.3342]),n(a,"cuxhaven",[53.8617,8.6941]),n(a,"darmstadt",[49.8667,8.65]),n(a,"delmenhorst",[53.0497,8.6339]),n(a,"dessau-rosslau",[51.8606,12.2469]),n(a,"detmold",[51.9333,8.8833]),n(a,"dinslaken",[51.5667,6.7333]),n(a,"dormagen",[51.0933,6.8419]),n(a,"dorsten",[51.6604,6.96465]),n(a,"dortmund",[51.5142,7.46389]),n(a,"dresden",[51.0517,13.731]),n(a,"dueren",[50.8,6.4833]),n(a,"duesseldorf",[51.2256,6.7828]),n(a,"duisburg",[51.4351,6.7627]),n(a,"elmshorn",[53.7547,9.6536]),n(a,"emden",[53.3669,7.2056]),n(a,"erftstadt",[50.8092,6.7758]),n(a,"erfurt",[50.9781,11.0292]),n(a,"erlangen",[49.5964,11.0043]),n(a,"eschweiler",[50.8208,6.2631]),n(a,"essen",[51.4581,7.0148]),n(a,"esslingen",[48.7406,9.3108]),n(a,"euskirchen",[50.6608,6.7858]),n(a,"flensburg",[54.7819,9.4367]),n(a,"frankenthal",[49.5333,8.35]),n(a,"frankfurt",[50.1106,8.6822]),n(a,"frankfurt-oder",[52.3417,14.5508]),n(a,"frechen",[50.9133,6.8139]),n(a,"freiburg",[47.99,7.82]),n(a,"friedrichshafen",[47.6542,9.4792]),n(a,"fuerth",[49.4783,10.9903]),n(a,"fulda",[50.552777777778,9.6775]),n(a,"garbsen",[52.4183,9.5981]),n(a,"gelsenkirchen",[51.5111,7.1006]),n(a,"gera",[50.8806,12.0833]),n(a,"giessen",[50.5872,8.6697]),n(a,"gladbeck",[51.573333333333,6.9925]),n(a,"goeppingen",[48.7025,9.6528]),n(a,"goerlitz",[51.1528,14.9872]),n(a,"goettingen",[51.5339,9.9356]),n(a,"goslar",[51.9072,10.43]),n(a,"greifswald",[54.096,13.3811]),n(a,"greiz",[50.6536,12.1884]),n(a,"grevenbroich",[51.0883,6.5875]),n(a,"guetersloh",[51.9,8.3833]),n(a,"gummersbach",[51.0269,7.5678]),n(a,"hagen",[51.3594,7.475]),n(a,"halle",[51.4828,11.97]),n(a,"hamburg",[53.5464,9.9841]),n(a,"hameln",[52.1031,9.36]),n(a,"hamm",[51.6811,7.817117]),n(a,"hanau",[50.1333,8.9167]),n(a,"hannover",[52.3744,9.7386]),n(a,"hattingen",[51.4011,7.1848]),n(a,"heidelberg",[49.4122,8.71]),n(a,"heidenheim",[48.6761,10.1544]),n(a,"heilbronn",[49.1417,9.2222]),n(a,"herford",[52.1172,8.6761]),n(a,"herne",[51.5419,7.2239]),n(a,"herten",[51.6,7.1333]),n(a,"hilden",[51.1714,6.9394]),n(a,"hildesheim",[52.15,9.95]),n(a,"huerth",[50.8694,6.8653]),n(a,"ibbenbueren",[52.2778,7.7167]),n(a,"ingolstadt",[48.7656,11.4244]),n(a,"iserlohn",[51.3811,7.6956]),n(a,"jena",[50.9272,11.5864]),n(a,"kaiserslautern",[49.4447,7.7689]),n(a,"karlsruhe",[49.014,8.4043]),n(a,"kassel",[51.3167,9.5]),n(a,"kempten",[47.7333,10.3167]),n(a,"kerpen",[50.8719,6.6961]),n(a,"kiel",[54.3253,10.1406]),n(a,"kleve",[51.7875,6.1353]),n(a,"koblenz",[50.3567,7.5939]),n(a,"koeln",[50.9381,6.9569]),n(a,"konstanz",[47.6633,9.1753]),n(a,"krefeld",[51.3369,6.5642]),n(a,"landshut",[48.5372,12.1522]),n(a,"langenfeld",[51.1131,6.9522]),n(a,"langenhagen",[52.4394,9.74]),n(a,"leipzig",[51.3403,12.37475]),n(a,"leverkusen",[51.0333,6.9833]),n(a,"lingen",[52.5233,7.3172]),n(a,"lippstadt",[51.6667,8.35]),n(a,"loerrach",[47.6156,7.6614]),n(a,"ludwigsburg",[48.8975,9.1922]),n(a,"ludwigshafen",[49.4831,8.4478]),n(a,"luebeck",[53.8661,10.6839]),n(a,"luedenscheid",[51.2183,7.6297]),n(a,"lueneburg",[53.2525,10.4144]),n(a,"luenen",[51.6167,7.5167]),n(a,"magdeburg",[52.1333,11.6167]),n(a,"mainz",[50,8.2711]),n(a,"mannheim",[49.4836,8.4631]),n(a,"marburg",[50.8075,8.7722]),n(a,"marl",[51.6539,7.0858]),n(a,"meerbusch",[51.2608,6.6778]),n(a,"menden",[51.4392,7.7953]),n(a,"minden",[52.2833,8.9167]),n(a,"moenchengladbach",[51.1911,6.4419]),n(a,"moers",[51.4517,6.6264]),n(a,"muelheim-an-der-ruhr",[51.4331,6.8831]),n(a,"muenchen",[48.14,11.56]),n(a,"muenster",[51.9502,7.5911]),n(a,"neu-ulm",[48.3942,9.9989]),n(a,"neubrandenburg",[53.557,13.261]),n(a,"neumuenster",[54.0714,9.99]),n(a,"neuss",[51.1986,6.6914]),n(a,"neustadt-an-der-weinstrasse",[49.35,8.15]),n(a,"neuwied",[50.4286,7.4614]),n(a,"norderstedt",[53.6956,9.9836]),n(a,"nordhorn",[52.4361,7.0706]),n(a,"nuernberg",[49.4556,11.0786]),n(a,"oberhausen",[51.4703,6.8522]),n(a,"offenbach",[50.0994,8.7708]),n(a,"offenburg",[48.4708,7.9408]),n(a,"oldenburg",[53.1439,8.2139]),n(a,"osnabrueck",[52.2789,8.0431]),n(a,"paderborn",[51.7231,8.7549]),n(a,"passau",[48.5733,13.4569]),n(a,"peine",[52.3203,10.2336]),n(a,"pforzheim",[48.8911,8.6989]),n(a,"plauen",[50.495,12.1383]),n(a,"potsdam",[52.3958,13.0614]),n(a,"pulheim",[51,6.8]),n(a,"rastatt",[48.8569,8.2028]),n(a,"ratingen",[51.2956,6.8522]),n(a,"ravensburg",[47.7819,9.6136]),n(a,"recklinghausen",[51.6167,7.2]),n(a,"regensburg",[49.0167,12.0833]),n(a,"remscheid",[51.1783,7.1994]),n(a,"reutlingen",[48.4833,9.2167]),n(a,"rheine",[52.2833,7.4333]),n(a,"rosenheim",[47.8561,12.1289]),n(a,"rostock",[54.0833,12.1333]),n(a,"ruesselsheim",[49.995,8.4119]),n(a,"saarbruecken",[49.2333,7]),n(a,"salzgitter",[52.1533,10.4061]),n(a,"sankt-augustin",[50.77,7.1867]),n(a,"schwaebisch_gmuend",[48.8,9.8]),n(a,"schweinfurt",[50.045,10.2342]),n(a,"schwerin",[53.6333,11.4167]),n(a,"siegen",[50.87444,8.0244]),n(a,"sindelfingen",[48.7133,9.003]),n(a,"solingen",[51.17139,7.0833]),n(a,"speyer",[49.3172,8.4342]),n(a,"stolberg",[50.7667,6.2333]),n(a,"stralsund",[54.3139,13.0897]),n(a,"stuttgart",[48.8,9.2]),n(a,"trier",[49.7596,6.6439]),n(a,"troisdorf",[50.8161,7.1556]),n(a,"tuebingen",[48.52,9.0556]),n(a,"ulm",[48.4008,9.9872]),n(a,"unna",[51.5347,7.6889]),n(a,"velbert",[51.3333,7.05]),n(a,"viersen",[51.2528,6.3933]),n(a,"villingen-schwenningen",[48.0569,8.4917]),n(a,"waiblingen",[48.8303,9.3169]),n(a,"weimar",[50.9794,11.3297]),n(a,"wesel",[51.6586,6.6178]),n(a,"wetzlar",[50.5578,8.5044]),n(a,"wiesbaden",[50.0821,8.2414]),n(a,"wilhelmshaven",[53.5219,8.1075]),n(a,"willich",[51.2631,6.5492]),n(a,"wismar",[53.8882,11.462]),n(a,"witten",[51.4333,7.3333]),n(a,"wolfenbuettel",[52.1622,10.5369]),n(a,"wolfsburg",[52.4231,10.7872]),n(a,"worms",[49.633055555556,8.3608]),n(a,"wuerzburg",[49.7944,9.9294]),n(a,"wuppertal",[51.2592,7.2111]),n(a,"zwickau",[50.7189,12.4922]),n(a,"oesterreich",[47.6,13.7833]),n(a,"austria",[47.6,13.7833]),n(a,"wien",[48.2083,16.3731]),n(a,"graz",[47.0667,15.4333]),n(a,"linz",[48.3031,14.2906]),n(a,"salzburg",[47.8,13.0333]),n(a,"innsbruck",[47.2672,11.3928]),n(a,"belarus",[54,28]),n(a,"minsk",[53.917,27.55]),n(a,"belgium",[50.8,4]),n(a,"brussels",[50.833333,4.4]),n(a,"bulgaria",[42.65,25.4]),n(a,"sofia",[42.6972,23.3233]),n(a,"pernik",[42.6,23.0333]),n(a,"varna",[43.2103,27.9097]),n(a,"plovdiv",[42.15,24.75]),n(a,"burgas",[42.4953,27.4717]),n(a,"velikotarnovo",[43.084,25.6556]),n(a,"ruse",[43.8564,25.9706]),n(a,"silistra",[44.1167,27.2667]),n(a,"starazagora",[42.42,25.63]),n(a,"vidin",[43.9911,22.8822]),n(a,"montana",[43.4125,23.225]),n(a,"pleven",[43.42,24.62]),n(a,"haskovo",[41.9333,25.5667]),n(a,"kardzhali",[41.65,25.3667]),n(a,"dimitrovgrad",[42.05,25.6]),n(a,"blagoevgrad",[42.0167,23.1]),n(a,"croatia",[45.166667,15.5]),n(a,"czech-republic",[49.8,15.5]),n(a,"prague",[50.0833,14.4167]),n(a,"denmark",[56,11]),n(a,"finland",[65,26]),n(a,"helsinki",[60.1667,24.9333]),n(a,"turku",[60.45,22.2667]),n(a,"france",[46.3167,2.5333]),n(a,"paris",[48.8567,2.3517]),n(a,"alsace",[48.24905,7.52806]),n(a,"strasbourg",[48.5836,7.74806]),n(a,"grenoble",[45.2002,5.7222]),n(a,"greece",[39,22]),n(a,"athens",[37.984,23.7278]),n(a,"hungary",[47,20]),n(a,"budapest",[47.5,19.05]),n(a,"szeged",[46.255,20.145]),n(a,"ireland",[53.1333,-8.1167]),n(a,"dublin",[53.3425,-6.2658]),n(a,"italy",[42,12]),n(a,"sicily",[37.5667,14.2667]),n(a,"florence",[43.7833,11.25]),n(a,"palermo",[38.1158,13.3614]),n(a,"bologna",[44.4939,11.3428]),n(a,"turin",[45.0667,7.7]),n(a,"rome",[41.9,12.5]),n(a,"latvia",[57,25]),n(a,"riga",[56.949,24.106]),n(a,"luxembourg",[49.85,6]),n(a,"macedonia",[41.6,21.7]),n(a,"skopje",[42,21.43]),n(a,"netherlands",[51.6,5.5667]),n(a,"norway",[66,18]),n(a,"oslo",[59.9,10.75]),n(a,"poland",[52.1469,19.3781]),n(a,"warsaw",[52.233333,21.016667]),n(a,"wroclaw",[51.11,17.0322]),n(a,"portugal",[39.572,-8.031]),n(a,"lisbon",[38.7139,-9.1394]),n(a,"romania",[46,25]),n(a,"bucharest",[44.4167,26.1]),n(a,"russia",[65,90]),n(a,"moskow",[55.75,37.617]),n(a,"serbia",[44,21]),n(a,"belgrade",[44.8167,20.4667]),n(a,"slovakia",[48.667,19.5]),n(a,"bratislava",[48.15,17.117]),n(a,"slovenia",[46.134,14.766]),n(a,"ljubljana",[46.056,14.508]),n(a,"spain",[40,-1]),n(a,"barcelona",[41.3837,2.1829]),n(a,"mallorca",[39.6167,2.9833]),n(a,"majorca",[39.6167,2.9833]),n(a,"schweiz",[46.8,8.2333]),n(a,"suisse",[46.8,8.2333]),n(a,"basel",[47.5581,7.5877]),n(a,"bern",[46.948,7.4474]),n(a,"biel",[47.1368,7.2467]),n(a,"lausanne",[46.5194,6.6345]),n(a,"luzern",[47.0521,8.3059]),n(a,"zuerich",[47.3717,8.5423]),n(a,"genf",[46.2,6.15]),n(a,"winterthur",[47.5,8.75]),n(a,"st-gallen",[47.4236,9.3775]),n(a,"lugano",[46.008,8.9557]),n(a,"sweden",[63,16]),n(a,"stockholm",[59.3294,18.0686]),n(a,"ukraine",[49,32]),n(a,"kiev",[50.43,30.5233]),n(a,"lviv",[49.83,24.0142]),n(a,"united-kingdom",[55,-4]),n(a,"bristol",[51.45,-2.5833]),n(a,"london",[51.5072,-.1275]),n(a,"cameroon",[7.5,12]),n(a,"yaounde",[3.8667,11.5167]),n(a,"egypt",[27,31]),n(a,"cairo",[30.044,31.236]),n(a,"kenya",[0,38]),n(a,"nairobi",[-1.2833,36.8167]),n(a,"nigeria",[9,8]),n(a,"abuja",[9.067,7.483]),n(a,"tanzania",[-6.307,34.854]),n(a,"dar-es-salaam",[-6.8,39.283333]),n(a,"bolivia",[-16.712,-64.666]),n(a,"la-paz",[-16.5,-68.15]),n(a,"sucre",[-19.05,-65.25]),n(a,"brazil",[-13,-52]),n(a,"brasilia",[-15.7817,-47.9]),n(a,"sao-paulo",[-23.55,-46.633]),n(a,"canada",[70,-95]),n(a,"chile",[-38,-71]),n(a,"santiago",[-33.46,-70.6]),n(a,"colombia",[4,-72]),n(a,"bogota",[4.66,-74.0722]),n(a,"costa-rica",[9.5,-84]),n(a,"dominican-republic",[19,-70.6667]),n(a,"santo-domingo",[18.4667,-69.95]),n(a,"puerto-plata",[19.803,-70.683]),n(a,"guatemala",[15.5,-90.25]),n(a,"guatemala-city",[14.613,-90.535]),n(a,"mexico",[23,-102]),n(a,"mexico-city",[19.433,-99.133]),n(a,"peru",[-8.233,-76.017]),n(a,"lima",[-12.043333,-77.028333]),n(a,"usa",[40,-100]),n(a,"portland",[45.52,-122.6819]),n(a,"brunei",[4.6,114.7]),n(a,"china",[32.8,103.08]),n(a,"beijing",[39.92,116.38]),n(a,"india",[21,78]),n(a,"japan",[35,136]),n(a,"tokyo",[35.683,139.767]),n(a,"kyrgyzstan",[41.267,74.983]),n(a,"bishkek",[42.867,74.567]),n(a,"malaysia",[4.226,114.033]),n(a,"kuala-lumpur",[3.141,101.698]),n(a,"putrajaya",[2.943,101.699]),n(a,"nepal",[28.25,83.9167]),n(a,"kathmandu",[27.7,85.3167]),n(a,"Oman",[21,57]),n(a,"muscat",[23.6,58.583]),n(a,"republic-of-korea",[36,128]),n(a,"seoul",[37.55,126.967]),n(a,"taiwan",[23.63,121.0532]),n(a,"thailand",[15.4,101.3]),n(a,"turkey",[39,35]),n(a,"ankara",[39.9,32.8]),n(a,"istanbul",[41,29]),n(a,"united-arab-emirates",[24,54]),n(a,"uae",[24,54]),n(a,"dubai",[25.2667,55.3]),n(a,"vietnam",[16,107]),n(a,"hanoi",[21.0333,105.85]),n(a,"australia",[-25,135]),n(a,"world",[0,0]),a)},function(e,t){"use strict";e.exports={europe:4,deutschland:6,germany:6,"baden-wuerttemberg":8,bayern:7,brandenburg:7,hessen:8,"mecklenburg-vorpommern":8,niedersachsen:8,"nordrhein-westfalen":8,"rheinland-pfalz":8,saarland:10,sachsen:9,"sachsen-anhalt":8,"schleswig-holstein":8,thueringen:8,ruhrgebiet:9,oesterreich:7,austria:7,belarus:6,belgium:8,bulgaria:7,sofia:12,croatia:7,"czech-republic":8,denmark:7,france:6,alsace:8,finland:5,greece:6,hungary:7,ireland:7,italy:6,sicily:8,latvia:7,luxembourg:9,macedonia:9,netherlands:7,norway:4,poland:6,warsaw:10,portugal:7,lisbon:10,romania:7,russia:3,moskow:10,serbia:7,slovakia:8,slovenia:8,spain:6,mallorca:10,majorca:10,schweiz:8,suisse:8,sweden:4,ukraine:6,"united-kingdom":5,london:10,cameroon:6,egypt:6,kenya:6,nigeria:6,tanzania:6,bolivia:6,brazil:4,brasilia:10,"sao-paulo":10,canada:3,chile:4,santiago:10,colombia:5,"costa-rica":8,"dominican-republic":8,guatemala:7,mexico:5,peru:5,usa:4,brunei:9,china:4,beijing:9,india:4,japan:5,tokyo:9,kyrgyzstan:7,malaysia:7,nepal:7,oman:6,"republic-of-korea":7,taiwan:8,thailand:5,turkey:6,"united-arab-emirates":7,uae:7,dubai:10,vietnam:6,australia:4,world:2}},function(e,t){},,function(e,t,n){n(26);var a=n(0)(n(15),n(37),null,null);e.exports=a.exports},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=a(o);t["default"]={data:function(){return{}},props:{cell:Array},computed:{mean:function(){return{P1:i["default"].meanBy(this.cell,function(e){return e.o.data.P1}),P2:i["default"].meanBy(this.cell,function(e){return e.o.data.P2})}}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={components:{},data:function(){return{}},computed:{},created:function(){},mounted:function(){this.$nextTick(function(){})},methods:{}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(33),i=a(o),r=n(31),s=a(r),l=n(32),u=a(l);t["default"]={components:{GeoMap:i["default"],CellInfo:s["default"],MapLegend:u["default"]},data:function(){return{selectedCell:null}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=a(o),r=n(27);a(r);n(22);var s=n(4),l=a(s),u=n(17),d=a(u);n(18),t["default"]={mounted:function(){var e=this;this.$nextTick(function(){var t=i["default"].map(e.$el,{center:l["default"].center,zoom:l["default"].zoom});i["default"].tileLayer("https://maps.luftdaten.info/tiles/{z}/{x}/{y}.png",{attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:13}).addTo(t);var n={mouseover:function(){},mouseout:function(){},click:function(t){e.$emit("cell-selected",t),document.getElementById("cell-info").style.display="";for(var n=document.getElementsByClassName("cell_info_images"),a=0;a<n.length;a++)n[a].style.display="none";n=document.getElementsByClassName("graph_on");for(var a=0;a<n.length;a++)n[a].style.display="";n=document.getElementsByClassName("graph_off");for(var a=0;a<n.length;a++)n[a].style.display="none"}},a=new i["default"].HexbinLayer(n).addTo(t);d["default"].getAllSensors().then(function(e){a.data(e)});new L.hash(t)})}}},function(e,t,n){"use strict";(function(e){function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=a(o);n(39);var r="https://api.luftdaten.info/static/v2/data.dust.min.json",s={fetchNow:function(){return fetch(r).then(function(e){return e.json()})},getAllSensors:function(){return s.fetchNow().then(function(t){var n=i["default"].chain(t).filter(function(e){return null!=e.location.latitude&&null!=e.location.longitude&&("HPM"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2||"PMS1003"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2||"PMS3003"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2||"PMS5003"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2||"PMS6003"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2||"PMS7003"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2||"SDS021"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2||"SDS011"==e.sensor.sensor_type.name&&e.sensordatavalues.length>=2)}).groupBy(function(e){return e.sensor.id}).map(function(e,t){var n=Number(e[0].location.latitude),a=Number(e[0].location.longitude),o=i["default"].reduce(e,function(e,t){var n=i["default"].keyBy(t.sensordatavalues,"value_type");return"undefined"!=typeof n.P1&&null!==n.P1&&"undefined"!=typeof n.P2&&null!==n.P2&&Number(n.P1.value)<1999&&Number(n.P2.value<999)&&(e.P1+=Number(n.P1.value),e.P2+=Number(n.P2.value)),e},{P1:0,P2:0});return{latitude:n,longitude:a,id:e[0].sensor.id,data:{P1:o.P1/e.length,P2:o.P2/e.length}}}).value();return e.resolve(n)})}};t["default"]=s}).call(t,n(2))},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var o=n(5),i=a(o),r=n(21),s=a(r),l=n(19),u=a(l),d=n(1),c=a(d);s["default"].hexbin=u["default"].hexbin,i["default"].HexbinLayer=i["default"].Layer.extend({_undef:function(e){return"undefined"==typeof e},options:{radius:25,opacity:.6,duration:200,valueDomain:[20,40,60,100,500],colorRange:["#00796B","#F9A825","#E65100","#DD2C00","#960084"],onmouseover:void 0,onmouseout:void 0,click:void 0,lng:function(e){return e.longitude},lat:function(e){return e.latitude},value:function(e){return c["default"].meanBy(e,function(e){return e.o.data.P1})}},initialize:function(e){i["default"].setOptions(this,e),this._data=[],this._colorScale=s["default"].scale.linear().domain(this.options.valueDomain).range(this.options.colorRange).clamp(!0)},onAdd:function(e){this.map=e;var t=this;this._svg=i["default"].svg(),e.addLayer(this._svg),this._rootGroup=s["default"].select(this._svg._rootGroup).classed("d3-overlay",!0),this.selection=this._rootGroup,this._pixelOrigin=e.getPixelOrigin(),this._wgsOrigin=i["default"].latLng([0,0]),this._wgsInitialShift=this.map.latLngToLayerPoint(this._wgsOrigin),this._zoom=this.map.getZoom(),this._shift=i["default"].point(0,0),this._scale=1,this.projection={latLngToLayerPoint:function(e,n){n=t._undef(n)?t._zoom:n;var a=t.map.project(i["default"].latLng(e),n)._round();return a._subtract(t._pixelOrigin)},layerPointToLatLng:function(e,n){n=t._undef(n)?t._zoom:n;var a=i["default"].point(e).add(t._pixelOrigin);return t.map.unproject(a,n)},unitsPerMeter:256*Math.pow(2,t._zoom)/40075017,map:t.map,layer:t,scale:1},this.projection._projectPoint=function(e,n){var a=t.projection.latLngToLayerPoint(new i["default"].LatLng(n,e));this.stream.point(a.x,a.y)},this.projection.pathFromGeojson=s["default"].geo.path().projection(s["default"].geo.transform({point:this.projection._projectPoint})),this.projection.latLngToLayerFloatPoint=this.projection.latLngToLayerPoint,this.projection.getZoom=this.map.getZoom.bind(this.map),this.projection.getBounds=this.map.getBounds.bind(this.map),this.selection=this._rootGroup,this.draw()},onRemove:function(e){null!=this._container&&this._container.remove(),e.off({moveend:this._redraw},this),this._container=null,this._map=null},addTo:function(e){return e.addLayer(this),this},_disableLeafletRounding:function(){this._leaflet_round=i["default"].Point.prototype._round,i["default"].Point.prototype._round=function(){return this}},_enableLeafletRounding:function(){i["default"].Point.prototype._round=this._leaflet_round},draw:function(){this._disableLeafletRounding(),this._redraw(this.selection,this.projection,this.map.getZoom()),this._enableLeafletRounding()},getEvents:function(){return{zoomend:this._zoomChange}},_zoomChange:function(e){this._disableLeafletRounding();var t=this._undef(e.zoom)?this.map._zoom:e.zoom;this._zoomDiff=t-this._zoom,this._scale=Math.pow(2,this._zoomDiff),this.projection.scale=this._scale,this._shift=this.map.latLngToLayerPoint(this._wgsOrigin)._subtract(this._wgsInitialShift.multiplyBy(this._scale));var n=["translate(",this._shift.x,",",this._shift.y,") "],a=["scale(",this._scale,",",this._scale,") "];this._rootGroup.attr("transform",n.concat(a).join("")),this.draw(),this._enableLeafletRounding()},_redraw:function(e,t,n){var a=this,o=this._data.map(function(e){var n=a.options.lng(e),o=a.options.lat(e),i=t.latLngToLayerPoint([o,n]);return{o:e,point:i}}),i=e.selectAll("g.hexbin").data([n],function(e){return e});i.enter().append("g").attr("class",function(e){return"hexbin zoom-"+e}),i.exit().remove(),s["default"].selectAll("path.hexbin-hexagon").remove(),this._createHexagons(i,o,t)},_createHexagons:function(e,t,n){var a=this,o=s["default"].hexbin().radius(this.options.radius/n.scale).x(function(e){return e.point.x}).y(function(e){return e.point.y}),i=o(t),r=e.selectAll("path.hexbin-hexagon").data(i);r.transition().duration(this.options.duration).attr("fill",function(e){return a._colorScale(a.options.value(e))}).attr("fill-opacity",this.options.opacity).attr("stroke-opacity",this.options.opacity),r.enter().append("path").attr("class","hexbin-hexagon").attr("d",function(e){return"M"+e.x+","+e.y+o.hexagon()}).attr("fill",function(e){return a._colorScale(a.options.value(e))}).attr("fill-opacity",.01).attr("stroke-opacity",.01).on("mouseover",this.options.mouseover).on("mouseout",this.options.mouseout).on("click",this.options.click).transition().duration(this.options.duration).attr("fill-opacity",this.options.opacity).attr("stroke-opacity",this.options.opacity),r.exit().transition().duration(this.options.duration).attr("fill-opacity",.01).attr("stroke-opacity",.01).remove()},data:function(e){return this._data=null!=e?e:[],this.draw(),this}})},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,function(e,t,n){n(25);var a=n(0)(n(13),n(36),null,null);e.exports=a.exports},function(e,t,n){n(23);var a=n(0)(n(14),n(34),null,null);e.exports=a.exports},function(e,t,n){n(24);var a=n(0)(n(16),n(35),null,null);e.exports=a.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c||t;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"legend"}},[n("div",{attrs:{id:"legend-inner"}},[n("div",{staticClass:"gradient"},[n("div",{staticClass:"limit"})]),n("div",{staticClass:"labels"},[n("div",{staticClass:"label",staticStyle:{bottom:"100%"}},[e._v("500")]),n("div",{staticClass:"label",staticStyle:{bottom:"80%"}},[e._v("100")]),n("div",{staticClass:"label",staticStyle:{bottom:"60%"}},[e._v("75")]),n("div",{staticClass:"label limit",staticStyle:{bottom:"40%"}},[e._v("50")]),n("div",{staticClass:"label",staticStyle:{bottom:"20%"}},[e._v("25")]),n("div",{staticClass:"label",staticStyle:{bottom:"0%"}},[e._v("0 µg/m³")])])])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"map"})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.cell?n("div",{attrs:{id:"cell-info"}},[n("a",{staticStyle:{color:"white"},attrs:{href:"#",onclick:'document.getElementById("cell-info").style.display="none";return false;'}},[e._v("(закрыть)")]),e._m(0),e._m(1),n("h3",[e._v("#Датчики "+e._s(e.cell.length))]),n("table",[e._m(2),n("tr",{staticClass:"mean"},[n("td",[e._v("Значения")]),n("td",[e._v(e._s(e.mean.P1.toFixed(0)))]),n("td",[e._v(e._s(e.mean.P2.toFixed(0)))])]),e._l(e.cell,function(t){return[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[n("a",{staticClass:"graph_on",staticStyle:{color:"white","text-decoration":"none"},attrs:{id:"graph_"+t.o.id+"_on",onclick:"var sensor=this.id.substring(0,this.id.length-3);document.getElementById(sensor).style.display='';document.getElementById(sensor+'_on').style.display='none';document.getElementById(sensor+'_off').style.display=''; document.getElementById('images_'+sensor.substr(6)).innerHTML='<img src=\"https://api.luftdaten.info/grafana/render/dashboard-solo/db/single-sensor-view?orgId=1&panelId=1&width=300&height=200&tz=UTC%2B02%3A00&var-node=' + sensor.substring(6) + '\" /><br /><img src=\"https://api.luftdaten.info/grafana/render/dashboard-solo/db/single-sensor-view?orgId=1&panelId=2&width=300&height=200&tz=UTC%2B02%3A00&var-node=' + sensor.substring(6) + '\" /><br /><br />'; return false;",href:"#"}},[e._v("(+) "+e._s(t.o.id))]),n("a",{staticClass:"graph_off",staticStyle:{color:"white","text-decoration":"none",display:"none"},attrs:{id:"graph_"+t.o.id+"_off",onclick:"var sensor=this.id.substring(0,this.id.length-4);document.getElementById(sensor).style.display='none';document.getElementById(sensor+'_on').style.display='';document.getElementById(sensor+'_off').style.display='none'; document.getElementById('images_'+sensor.substr(6)).innerHTML=''; return false;",href:"#"}},[e._v("(-) "+e._s(t.o.id))])]),n("td",[e._v(e._s(t.o.data.P1.toFixed(0)))]),n("td",[e._v(e._s(t.o.data.P2.toFixed(0)))])]),n("tr",{staticClass:"cell_info_images",staticStyle:{display:"none"},attrs:{id:"graph_"+t.o.id}},[n("td",{attrs:{id:"images_"+t.o.id,colspan:"3"}},[n("br")])])]})],2)]):e._e()},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("a",{staticStyle:{color:"white"},attrs:{href:"#",id:"map-info-on",onclick:'document.getElementById("map-info-on").style.display="none";document.getElementById("map-info-off").style.display="";document.getElementById("map-info").style.display=""; return false;'}},[e._v("Показать пояснения")]),n("a",{staticStyle:{color:"white",display:"none"},attrs:{href:"#",id:"map-info-off",onclick:'document.getElementById("map-info-on").style.display="";document.getElementById("map-info-off").style.display="none";document.getElementById("map-info").style.display="none"; return false;'}},[e._v("Скрыть пояснения")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"none"},attrs:{id:"map-info"}},[n("p",[e._v("В настоящее время плитки окрашены в соответствии со средним значением PM10 всех датчиков в ячейке. См. Шкалу в левом нижнем углу.")]),n("p",[e._v("Номера в первом столбце соответствуют идентификаторам датчиков. Первая строка «Значения» содержит соответствующие средние значения всех датчиков, содержащихся в ячейке.")]),n("p",[e._v("Обратите внимание: мы показываем на карте значения последних 5 минут. Значения, опубликованные соответствующими государственными органами, даются как 24-часовое среднее значение. Это может привести к тому, что значения на диаграмме будут значительно отличаться от этих средних значений за 24 часа.")]),n("p",[e._v("Нажимая на плюс перед идентификатором датчика, можно отобразить 2 графика. График «24h float» отображает 24-часовую скользящую среднюю за последние 7 дней. По техническим причинам в начале есть пробел в один день, поэтому на самом деле презентация показывает 8 дней, но первый из них пуст. Второй график «Last 24 hours» показывает значения в течение последних 24 часов.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("ID датчика")]),n("th",[e._v("PM10 µg/m³")]),n("th",[e._v("PM2.5 µg/m³")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"content"}},[n("geo-map",{on:{"cell-selected":function(t){return e.selectedCell=t}}}),n("map-legend"),n("cell-info",{attrs:{cell:e.selectedCell}})],1)},staticRenderFns:[]}},,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var o=n(12),i=a(o),r=n(10),s=a(r),l=n(11),u=a(l);n(9);var d=n(4),c=a(d),h=n(7),f=a(h),m=n(8),p=a(m),g=s["default"].parse(window.location.search.substring(1));if(console.log(g),window.onpopstate=function(e){if("undefined"!=typeof location.search&&"undefined"!=typeof location.hash&&""!==location.hash){if("undefined"!=typeof location.pathname){var t=location.pathname;t=t.substring(0,t.lastIndexOf("/")+1)}else var t="/";var n=location.protocol+"//"+location.host+t;"undefined"!=typeof location.hash&&(n+=location.hash),console.log("New location: "+n),history.pushState("remove_query",null,n)}},g.center){var b=g.center.split(",").map(function(e){return parseFloat(e)});c["default"].center=b}else if(location.hash){var v=location.hash.split("/");c["default"].center=[v[1],v[2]],c["default"].zoom=v[0].substring(1)}else{var _=location.hostname,y=_.split(".");if(y.length=4){var w=y[0].toLowerCase();"undefined"!=typeof f["default"][w]&&null!==f["default"][w]&&(c["default"].center=f["default"][w],c["default"].zoom=11),"undefined"!=typeof p["default"][w]&&null!==p["default"][w]&&(c["default"].zoom=p["default"][w])}console.log("Center: "+c["default"].center),console.log("Zoom: "+c["default"].zoom)}g.zoom&&(c["default"].zoom=parseInt(g.zoom)),new i["default"](u["default"]).$mount("#v-app")}],[40]);